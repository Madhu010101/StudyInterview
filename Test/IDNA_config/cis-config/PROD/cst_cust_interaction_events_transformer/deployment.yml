spec:
  replicas: 10
  template:
    spec:
      volumes:
        - name: app-config
          configMap:
            name: cst-cust-interaction-events-transformer-configmap
        - name: krb5-config
          configMap:
            name: krb5-config
        - name: kafka-jaas-config
          configMap:
            name: kafka-jaas-cust-interaction-events
        - name: graylog-config
          configMap:
            name: graylog-configmap
        - name: keytab
          secret:
            secretName: svc-cus-interactions-prod-keytab
      containers:
        -
          env:
            - name: TZ
              value: Africa/Johannesburg
            - name: JAVA_OPTS
              value: >-
                -Djava.security.krb5.conf=/etc/krb5.conf 
                -Djava.security.auth.login.config=/deployments/karaf/etc/kafka.jaas
          volumeMounts:
          - name: app-config
            mountPath: /deployments/karaf/etc/properties.cfg
            subPath: properties.cfg
          - name: krb5-config
            mountPath: /etc/krb5.conf
            subPath: krb5.conf
          - name: kafka-jaas-config
            mountPath: /deployments/karaf/etc/kafka.jaas
            subPath: kafka.jaas
          - name: graylog-config
            mountPath: /deployments/karaf/etc/org.ops4j.pax.logging.cfg
            subPath: org.ops4j.pax.logging.cfg
          - name: keytab
            mountPath: /deployments/karaf/etc/SVC_CST_CusCach_prod.keytab
            subPath: SVC_CST_CusCach_prod.keytab
            readOnly: true
      dnsPolicy: ClusterFirst
      hostAliases:
        - hostnames:
          - dna-r1eehpkaf01.fnb.co.za
          ip: 172.16.36.66
        - hostnames:
          - dna-r1eehpkaf02.fnb.co.za
          ip: 172.16.36.67
        - hostnames:
          - dna-r1eehpkaf03.fnb.co.za
          ip: 172.16.36.64
        - hostnames:
          - dna-r1eehpamb01.fnb.co.za
          ip: 172.16.36.93
        - hostnames:
          - dna-r1eehcpkaf01.fnb.co.za
          ip: 172.16.36.109
        - hostnames:
          - dna-r1eehcpkaf02.fnb.co.za
          ip: 172.16.36.110
        - hostnames:
          - dna-r1eehcpkaf03.fnb.co.za
          ip: 172.16.36.111
        - hostnames:
          - dna-r1eehcpamb01.fnb.co.za
          ip: 172.16.36.106
