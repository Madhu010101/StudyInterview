apiVersion: v1
kind: Secret
metadata:
  name: {{ app_name }}-secrets
  namespace: {{ k8s_project }}
type: Opaque
data:
  lokipass: {{ lookup('vault', 'secret/loki/{%if k8s_env == \"prod\"%}prod{%else%}stress{%endif%}/loki_pass').value | b64encode }}
  spring_datasource_username: "{{ db_user | b64encode }}"
  spring_datasource_password:
  jasypt_encryptor_algorithm: "{{ encrypt_key | b64encode }}"
  jasypt_encryptor_password: "{{ key_pass | b64encode }}"
  keystore_pass: "{{ lookup('vault', 'secret/ssl/passwords/keystore_pass').value | b64encode }}"
